# ZK-Rollup Prototype - –ü–æ–ª–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
4. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
5. [–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç](#–∫–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)
6. [API Endpoints](#api-endpoints)
7. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
8. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

---

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**ZK-Rollup Prototype** ‚Äî —ç—Ç–æ Layer-2 —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª–æ–∫—á–µ–π–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ Zero-Knowledge Proofs (ZK-SNARKs) –¥–ª—è –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –∏—Ö –¥–µ—Ç–∞–ª–µ–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—ã—Å—è—á —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –æ–¥–Ω–æ–º batch
- ‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è –≥–∞–∑–∞**: ~60% —ç–∫–æ–Ω–æ–º–∏–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä—è–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ L1
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: ZK-proof –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å**: –î–µ—Ç–∞–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–∫—Ä—ã—Ç—ã –≤ proof
- ‚úÖ **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Merkle Tree

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Frontend (Dashboard)                  ‚îÇ
‚îÇ  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, batches, Merkle root         ‚îÇ
‚îÇ  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ ZK-Rollup                      ‚îÇ
‚îÇ  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç–∫–æ–Ω–æ–º–∏–∏ –≥–∞–∑–∞                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ HTTP/REST API
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Backend Server (Node.js/Express)             ‚îÇ
‚îÇ  - REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏                  ‚îÇ
‚îÇ  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ batches                                    ‚îÇ
‚îÇ  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sequencer                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Sequencer                              ‚îÇ
‚îÇ  - –°–±–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ batches                            ‚îÇ
‚îÇ  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Merkle Tree                                ‚îÇ
‚îÇ  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ZK-proof                                    ‚îÇ
‚îÇ  - –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ L1                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                         ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Merkle Tree   ‚îÇ      ‚îÇ  ZK-Proof       ‚îÇ
‚îÇ  (Poseidon)    ‚îÇ      ‚îÇ  Generator      ‚îÇ
‚îÇ                ‚îÇ      ‚îÇ  (snarkjs)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                         ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Layer 1 (Ethereum) ‚îÇ
        ‚îÇ   - RollupContract    ‚îÇ
        ‚îÇ   - Verifier          ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. **Frontend Dashboard** (`frontend/`)
- **HTML/CSS/JavaScript** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
  - –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏
  - –¢–µ–∫—É—â–∏–π Merkle Root
  - –°—Ç–∞—Ç—É—Å batches (pending/processing/submitted/verified)
  - –≠–∫–æ–Ω–æ–º–∏—è –≥–∞–∑–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ ZK-Rollup

### 2. **Backend Server** (`server/index.js`)
- **Express.js** REST API
- Endpoints:
  - `/api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
  - `/api/state` - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  - `/api/transaction` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  - `/api/transactions` - —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - `/api/batches` - —Å–ø–∏—Å–æ–∫ batches
  - `/api/batch/:id/submit` - –æ—Ç–ø—Ä–∞–≤–∫–∞ batch –Ω–∞ L1
  - `/api/account/deposit` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞

### 3. **Sequencer** (`sequencer/sequencer.js`)
- **–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç L2 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –§—É–Ω–∫—Ü–∏–∏:
  - `addTransaction()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  - `processBatch()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ batch (4 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
  - `generateProof()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ZK-proof
  - `submitToL1()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ Layer 1

### 4. **Merkle Tree** (`sequencer/sequencer.js`)
- **PoseidonMerkleTree** –∫–ª–∞—Å—Å
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Poseidon hash** (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è ZK-SNARKs)
- –•—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (–∞–¥—Ä–µ—Å ‚Üí –±–∞–ª–∞–Ω—Å)
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### 5. **ZK-Proof Generation** (`circuits/`)
- **Circom** circuit (`rollup.circom`)
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤ R1CS –∏ WASM
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è proof —á–µ—Ä–µ–∑ **snarkjs**
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ L1

### 6. **L1 Contracts** (`contracts/`)
- **RollupContract.sol** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç
  - –•—Ä–∞–Ω–∏—Ç Merkle Root
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç batches —Å proof
  - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **RollupVerifier.sol** - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä Groth16
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç ZK-proof
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Groth16 —Å—Ö–µ–º—É

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend:
- **HTML5/CSS3** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å—Ç–∏–ª–∏
- **Vanilla JavaScript** - –ª–æ–≥–∏–∫–∞ UI

### Backend:
- **Node.js** - runtime
- **Express.js** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **ethers.js** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º

### ZK-Proofs:
- **Circom** - —è–∑—ã–∫ –¥–ª—è circuits
- **snarkjs** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è proof
- **Poseidon** - —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—è (circomlibjs)

### Blockchain:
- **Solidity** - —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- **Hardhat** - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –¥–µ–ø–ª–æ–π
- **Groth16** - —Å—Ö–µ–º–∞ ZK-SNARK

---

## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤
```javascript
POST /api/account/deposit
{
  "address": "0x111",
  "balance": 1000
}
```
- –ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ Merkle Tree
- Root –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

### –®–∞–≥ 2: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```javascript
POST /api/transaction
{
  "from": "0x111",
  "to": "0x222",
  "amount": 100
}
```
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
- –°—Ç–∞—Ç—É—Å: `pending`

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Batch
- –ü–æ—Å–ª–µ **4 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è batch
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ Merkle Tree
- –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π Root

### –®–∞–≥ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ZK-Proof
- –°–æ–∑–¥–∞–µ—Ç—Å—è `input.json` —Å:
  - `oldRoot` - —Å—Ç–∞—Ä—ã–π Merkle Root
  - `newRoot` - –Ω–æ–≤—ã–π Merkle Root
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Å–∫—Ä—ã—Ç—ã –≤ proof)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è witness (`witness.wtns`)
- –°–æ–∑–¥–∞–µ—Ç—Å—è ZK-proof (`proof.json`)
- –°—Ç–∞—Ç—É—Å: `processing`

### –®–∞–≥ 5: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ L1
```javascript
POST /api/batch/0/submit
```
- Batch –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ `RollupContract`
- Verifier –ø—Ä–æ–≤–µ—Ä—è–µ—Ç proof
- –ï—Å–ª–∏ proof –≤–∞–ª–∏–¥–µ–Ω ‚Üí Root –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ L1
- –°—Ç–∞—Ç—É—Å: `submitted` ‚Üí `verified`

---

## üì° API Endpoints

### Health & State
- `GET /api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `GET /api/state` - –ø–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### Transactions
- `POST /api/transaction` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- `GET /api/transactions` - —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `GET /api/transactions?status=pending` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É

### Batches
- `GET /api/batches` - –≤—Å–µ batches
- `GET /api/batch/:id` - batch –ø–æ ID
- `POST /api/batch/:id/submit` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ L1
- `POST /api/batch/create` - —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é

### Accounts
- `POST /api/account/deposit` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
- `POST /api/account/balance` - –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Node.js >= 18
- npm –∏–ª–∏ yarn
- Hardhat (–¥–ª—è L1 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
npm install
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
RPC_URL=http://localhost:8545
L1_CONTRACT_ADDRESS=0x...
PRIVATE_KEY=0x...
PORT=3000
```

### –ó–∞–ø—É—Å–∫:

1. **–õ–æ–∫–∞–ª—å–Ω—ã–π –±–ª–æ–∫—á–µ–π–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
npx hardhat node
```

2. **–î–µ–ø–ª–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
npx hardhat run scripts/deploy-rollup.js
```

3. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
npm run server
```

4. **–û—Ç–∫—Ä–æ–π—Ç–µ Dashboard:**
```
http://localhost:3000
```

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ß–µ—Ä–µ–∑ Dashboard:
- –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°–º–æ—Ç—Ä–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### 2. –ß–µ—Ä–µ–∑ API:
```bash
# Deposit
curl -X POST http://localhost:3000/api/account/deposit \
  -H "Content-Type: application/json" \
  -d '{"address": "0x111", "balance": 1000}'

# Transaction
curl -X POST http://localhost:3000/api/transaction \
  -H "Content-Type: application/json" \
  -d '{"from": "0x111", "to": "0x222", "amount": 100}'

# Get State
curl http://localhost:3000/api/state
```

### 3. –ß–µ—Ä–µ–∑ Postman:
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `POSTMAN_REQUESTS.json`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –≠–∫–æ–Ω–æ–º–∏—è –≥–∞–∑–∞:
- **–ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ L1**: ~21,000 gas/—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
- **–ß–µ—Ä–µ–∑ ZK-Rollup**: ~8,467 gas/—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
- **–≠–∫–æ–Ω–æ–º–∏—è**: ~60%

### –ü—Ä–∏–º–µ—Ä:
- **4 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**:
  - –ü—Ä—è–º–æ: 84,000 gas
  - Rollup: 33,870 gas
  - **–≠–∫–æ–Ω–æ–º–∏—è: 50,130 gas (60%)**

### Batch Processing:
- –†–∞–∑–º–µ—Ä batch: **4 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è proof: ~2-5 —Å–µ–∫—É–Ω–¥
- –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ L1: ~10-15 —Å–µ–∫—É–Ω–¥

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ZK-Proof:
- –î–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π
- Groth16 —Å—Ö–µ–º–∞ - –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞
- Verifier –ø—Ä–æ–≤–µ—Ä—è–µ—Ç proof –Ω–∞ L1

### Merkle Tree:
- Poseidon hash - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è ZK
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- Root —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ L1

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ proof –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç replay –∞—Ç–∞–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
blockchain-project/
‚îú‚îÄ‚îÄ frontend/           # Dashboard UI
‚îú‚îÄ‚îÄ server/             # Backend API
‚îú‚îÄ‚îÄ sequencer/          # Core L2 logic
‚îú‚îÄ‚îÄ circuits/           # Circom circuits
‚îú‚îÄ‚îÄ contracts/          # Solidity contracts
‚îú‚îÄ‚îÄ scripts/            # Deployment scripts
‚îú‚îÄ‚îÄ docs/               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ POSTMAN_REQUESTS.json  # API –∫–æ–ª–ª–µ–∫—Ü–∏—è
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π batch processing** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - Dashboard –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
3. **Gas savings tracking** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫–æ–Ω–æ–º–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
4. **Demo mode** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ L1 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –æ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ L1 –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **Circom**: https://docs.circom.io/
- **snarkjs**: https://github.com/iden3/snarkjs
- **Hardhat**: https://hardhat.org/
- **ethers.js**: https://docs.ethers.org/

---

## ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

